# 5장. **Git 도구**

  * [5-1 리비전 조회하기](#5-1-리비전-조회하기)  

## 5-1 리비전 조회하기  
  Git은 커밋 하나를 가리키거나 범위를 사용하여 여러 커밋을 가리키는 다양항 방법을 갖고 있다.  
  
  1. 리비전 하나 가리키기
    SHA-1 해시 값으로도 커밋을 외우기는 힘들다.  
    그래서 Git에서는 커밋을 가리키거나 표현하는 방법 제공한다.  

      * SHA-1 줄여 쓰기  
        Git은 해시 값의 앞 몇 글자만으로도 어떤 커밋인지 충분히 식별할 수 있다.  
        저장소 안에서 해시 값이 중복되지 않으면 해시 값의 앞 4자만으로도 나타낼 수 있다.  
        즉, 짧은 SHA-1 값이라고 해도 유일해야 한다.  
        `git log --abbrev-commit` 명령은 짧고 중복되지 않는 해시 값을 보여준다.  
        기본으로 7자를 보여주고 해시 값이 중복되는 경우 더 긴 해시 값을 보여준다.  
        
  2. 브랜치로 가리키기  
    커밋을 가리키는 방법 중에 가장 많이 사용하는 방법은 브랜치의 가장 최신 커밋을 보는 것이다.  
    `git show <브랜치명>` 은 해당 브랜치의 최신 커밋을 확인할 수 있다.  

  3. RefLog로 가리키기  
    Git은 자동으로 브랜치와 HEAD가 지난 몇 달 동안에 가리켰었던 커밋을 모두 기록한다.  
    `git reflog`를 실행하면 Reflog를 볼 수 있다.
    이 역시 `git show <HEAD>` 를 통해 해당 커밋을 확인할 수 있다.  
    또한 시간도 사용할 수 있다. 어제 날짜의 브랜치를 보고 싶으면 아래와 같은 명령을 실행한다.  
    `git show <브랜치명>@{yesterday}`  
    마지막으로 `git log -g` 명령을 사용하면 git reflog 결과를 git log 명령과 같은 형태로 볼 수 있다.

  4. 계통 관계로 가리키기  
    계통 관계로도 커밋을 표현할 수 있다.  
    이름 끝에 ^ (캐럿) 기호를 붙이면 Git은 해당 커밋의 부모를 찾는다.  
    즉, HEAD^ 는 바로 “HEAD의 부모” 를 의미하므로 바로 이전 커밋을 보여준다.  
    또한, 계통을 표현하는 방법으로 ~ 라는 것도 있다.  
    HEAD~ 와 HEAD^ 는 똑같이 첫 번째 부모를 가리킨다.  
    하지만, 그 뒤에 숫자를 사용하면 달라진다.  
    HEAD~2 는 명령을 실행할 시점의 “첫 번째 부모의 첫 번째 부모”를 가리킨다.  

  5. 범위로 커밋 가리키기  
    커밋을 하나씩 조회할 수도 있지만, 범위를 주고 여러 커밋을 한꺼번에 조회할 수도 있다.  
    범위를 사용하여 조회할 수 있으면 브랜치를 관리할 때 유용하다.  
    
      * Double Dot  
      범위를 표현하는 문법으로 Double Dot(..)을 많이 쓴다.  
      Double Dot은 어떤 커밋들이 한쪽에는 관련됐고 다른 쪽에는 관련되지 않았는지 Git에게 물어보는 것이다.  
      `git log <브랜치1>..<브랜치2>` 명령을 사용하면 브랜치1에는 없지만 브랜치2에는 있는 커밋을 확인할 수 있다.  
      
      * 세 개 이상의 Refs
        Double Dot은 간단하고 유용하지만 두 개 이상의 브랜치에는 사용할 수 없다.  
        Git은 `^` 이나 `--not` 옵션 뒤에 브랜치 이름을 넣으면 그 브랜치에 없는 커밋을 찾아준다.  
        위 옵션은 다음과 같이 사용한다.  
        `git log <브랜치1> <브랜치2> ^<브랜치3>`
        `git log <브랜치1> <브랜치2> --not <브랜치3>`

      * Triple Dot  
        Triple Dot은 양쪽에 있는 두 Refs 사이에서 공통으로 가지는 것을 제외하고 서로 다른 커밋만 보여준다.  
        `git log <브랜치1>...<브랜치2>` 명령을 사용하여 확인할 수 있다.  
        또한, `--left-right` 옵션을 추가하면 각 커밋이 어느 브랜치에 속하는지도 보여주기 때문에 좀 더 이해하기 쉽다.