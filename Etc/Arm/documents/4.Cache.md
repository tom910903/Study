# 4장. **Cache와 Arm 프로세서**

  * [4-1 Cached Arm 프로세서](#4-1-cached-arm-프로세서)  
  
## 4-1 Cached Arm 프로세서 

  1. Cached ARM 프로세서  
      * Cached ARM 프로세서 구조
      <!-- 메모리 시스템 이미지 -->
      * ARM 메모리 시스템
      <!-- 메모리 시스템 이미지 -->
      * Cached ARM 프로세서릐 제어  
        1. CP15 인터페이스를 통해 제어  
          Cached, MPU or MMU, endian 제어 등  
        2. Coprocessor Register Transfer 명령  
            * MRC<sup>Move to Register from Coprocessor</sup> : 
              Coprocessor 레지스터 내용을 ARM 레지스터로 전송
            * MCR<sup>Move to Coprocessor from Register</sup> : ARM 레지스터의 내용을 Coprocessor 레지스터로 전송
      * CP15 레지스터 (ARM926EJ-S)   
        |Register|용도|비고|
        |:--:|--|--|
        |0|ID Code register<br>Cache type register<br>TCM status register|Opcode_2=0<br>Opcode_2=1<br>Opcode_2=2|
        |1|Control register|Cache, MMU enable, Endian Clock, 제어 등|
        |2|Translation table base register||
        |3|Domain access control register||
        |5|Data Fault status register<br>Instruction Fault status register|Opcode_2=0<br>Opcode_2=1|
        |6|Fault address register||
        |7|Cache operation register|Cached control|
        |8|TLB operation register||
        |9|Cache lockdown register<br>TCM region register||
        |10|TLB lockdown register||
        |13|FCSE PID register<br>Context ID|Fast Context Switching Extension<br>Context ID|
        |15|Test configuration|Test configuration|
        |4, 11, 12, 14|Reserved||

  2. Cache와 Write Buffer
    캐시 메모리는 프로세서가 최근 엑세스 한 메모리의 내용을 보관하고 있다가 다시 요청하면 메모리 엑세스 없이 전달하도록 프로세스 가까이에 있는 메모리이다.  
    속도가 느린 메모리시스템의 성능을 개선할 수 있으며, 버스 사용향을 줄여 시스템 성능을 향상 시킨다.  
    또한 전력 소모를 줄일 수 있다는 장점이 있다.
      <!-- Cache 메모리 이미지 -->
      * Cache와 메모리 Read  
      * Cache의 성능  
        1. 프로세서가 읽고자 하는 명령이나 데이터가 Cache내에 있을 경우(Cache Hit)가 많을 수록 성능이 좋다.  
        2. 프로세서가 읽고자 하는 명령이나 데이터가 Cache내에 없을 경우(Cache Miss) Cache 제어기는 시스템 메모리 장치에서 line 크기만큼 명령이나 데이터를 읽어 메모리에 저장(Line Fill)한다.